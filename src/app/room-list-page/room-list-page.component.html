<div class="container" ngClass.xs="xs">
  <div class="filters mat-elevation-z1" ngClass.xs="xs">
    <form [formGroup]="form" class="search-form" ngClass.xs="xs">
      <mat-form-field appearance="legacy">
        <input type="text" matInput formControlName="search" placeholder="Rechercher">
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>
    </form>
    <div class="filter-menu">
      <button  [matMenuTriggerFor]="menu" class="filter-btn" mat-stroked-button>

        <span>Filtrer</span>
      </button>
      <mat-menu #menu></mat-menu>
    </div>

  </div>
  <ul class="room-list" ngClass.sm="sm" ngClass.md="md" ngClass.gt-md="lg">
    <li class="card mat-elevation-z2" *ngFor="let room of rooms$ | async">
      <div class="card-img">
        <img [src]="room.photos[0].url" alt="">
        <div class="rating">
          <mat-icon *ngFor="let star of Arr(room.rating).fill('grade')">{{star}}</mat-icon>
        </div>
      </div>
      <div class="card-infos">
        <h2 class="card-title">{{room.name}}</h2>
        <div class="address">
          <mat-icon>place</mat-icon>
          {{room.address.city}} {{room.address.zipCode}}
        </div>
        <div class="capacity">
          <mat-icon>person</mat-icon>
          {{room.maxCapacity}} personnes max.
        </div>
        <div class="price">
          <mat-icon>euros</mat-icon>

          {{room.price + room.price / 10}} euro / h
        </div>
        <div class="btn-container" (click)="setFavorite(room.id)">
          <button class="btn-favorite" mat-icon-button [ngClass]="isFavorite(room.id) && 'favorite'"*ngIf="user$ | async">
            <mat-icon class="icon-favorite">favorite</mat-icon>
          </button>
          <button class="btn-more" mat-stroked-button [routerLink]="['/salles', room.id]">
            En d√©tail
          </button>
        </div>

      </div>
    </li>
  </ul>
</div>
